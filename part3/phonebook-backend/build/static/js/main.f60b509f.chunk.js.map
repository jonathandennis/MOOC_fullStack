{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","placeholder","value","onChange","Persons","persons","removePerson","map","person","key","id","style","padding","margin","name","number","onClick","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","notice","notificationStyle","background","color","fontSize","borderStyle","borderRadius","marginBottom","message","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","searchTerm","setSearchTerm","notification","setNotification","useEffect","personService","initialPersons","notify","setTimeout","personsToShow","length","filter","toLowerCase","includes","event","target","preventDefault","personObject","duplicateName","some","duplicateNumber","replace","window","alert","find","changedPerson","confirm","catch","error","errMessage","returnedPerson","concat","toDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f60b509f.chunk.js","sourcesContent":["\nimport React from 'react'\n\nconst Filter = (props) => {\n    \n    return (\n        <p>filter shown with <input\n                                placeholder=\"Search\"\n                                value={props.value}\n                                onChange={props.onChange} \n                            />\n        </p>\n    )\n}\n\nexport default Filter \n","\nimport React from 'react'\n\nconst Persons = ({ persons, removePerson }) => {    \n\n    return(\n      persons.map(person=>\n        <p key={person.id} style={{ padding: 0, margin: 3 }}>\n          {person.name} {person.number}     <button onClick={() => removePerson(person.id)}>delete</button>\n        </p>\n    )\n  )\n}\n\nexport default Persons\n","\nimport React from 'react'\n\nconst PersonForm = (props) => {\n        \n    return (\n        <form onSubmit={props.addPerson}>\n        <div>\n          name: <input \n                  value={props.newName}\n                  onChange={props.handleNameChange} \n                />\n        </div>\n        <div>\n          number: <input\n                    value={props.newNumber}\n                    onChange={props.handleNumberChange} \n                  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","\nimport React from 'react'\n\nconst Notification = ({ notice }) => {\n if (notice === null) {\n     return null\n   }\n\n   const notificationStyle = {\n    background: 'lightgrey',\n    color: notice.type ==='ok' ? 'green' : 'red',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 5,\n    marginBottom: 10\n   }\n\n   return (\n    <div style={notificationStyle}>\n       {notice.message}\n    </div>\n  )\n}\n\nexport default Notification \n","\nimport axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\nuseEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n}, [])\n\nconst notify = (message, type='error') => {\n  setNotification({type,message})\n  setTimeout(() => {\n    setNotification(null)\n  }, 5000)\n}\n\nconst handleNameChange = (event) => {\n  //console.log(event.target.value)\n  setNewName(event.target.value)\n}\nconst handleNumberChange = (event) => {\n  //console.log(event.target.value)\n  setNewNumber(event.target.value)\n}\nconst handleFilterChange = (event) => {\n  //console.log(event.target.value)\n  setSearchTerm(event.target.value)\n}\n \nconst removePersonOf = (id) => {\n  const toDelete = persons.find(person => person.id === id)\n  const ok = window.confirm(`Delete ${toDelete.name}?`)\n  if (ok) {\n    personService\n      .remove(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        notify(`${toDelete.name}'s number was sucessfully deleted!`, 'ok')\n      }).catch(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        notify(`${toDelete.name} had already been removed`)\n      })\n  }\n}\n\nconst addPerson = (event) => {\n  event.preventDefault()\n  const personObject = {\n    name: newName,\n    number: newNumber\n  }\n  const duplicateName = persons.some(person => person.name.toLowerCase() === newName.toLowerCase())\n  const duplicateNumber = persons.some(person => person.number.replace(/ /g, '') === newNumber.replace(/ /g, ''))\n    \n  if (!duplicateName) {\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        notify(`${personObject.name} was sucessfully added!`, 'ok')\n      })\n      .catch(error => {\n        notify(error.response.data.error)\n      })  \n  }\n  else if (duplicateName && duplicateNumber) { \n    window.alert(`${newName} is already added to phonebook`)\n  }\n  else if (duplicateName && !duplicateNumber) {\n    const person = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n    const changedPerson = {...person, number: newNumber}\n    const isConfirm = (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one? `))\n      if (isConfirm) { \n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person :response))\n            notify(`${person.name}'s number was sucessfully changed!`, 'ok')\n          }) \n          .catch((error) => {\n            const errMessage = error.response.data.error\n            if (errMessage.includes(\"deleted\")) {\n              setPersons(persons.filter(person => person.id !== changedPerson.id))\n              return notify(errMessage);\n            }\n            notify(errMessage)\n          })\n      }\n    } \n    setNewName('')\n    setNewNumber('')  \n} \n\nconst personsToShow = searchTerm.length === 0 ?\n    persons : \n    persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification notice={notification}/>\n        <Filter value={searchTerm} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n        <PersonForm addPerson={addPerson}\n                    newName={newName}\n                    newNumber={newNumber}\n                    handleNameChange={handleNameChange}\n                    handleNumberChange={handleNumberChange}\n          />\n      <h2>Numbers</h2>\n        <Persons persons={personsToShow} removePerson={removePersonOf} />\n    </div>\n  )\n}\n\nexport default App","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root'));\n"],"sourceRoot":""}